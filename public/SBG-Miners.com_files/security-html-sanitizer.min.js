!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.ZSEC=t()}(this,function(){"use strict";function e(e,t,r,n,o,i,a){if(n||!(t in e))return Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),1}catch(e){return}}()?(o=!0===o,i=!0===i,a=!0===a,Object.defineProperty(e,t,{value:r,writable:o,configurable:i,enumerable:a})):(e[t]=r,e)}var t=window&&window.ZSEC?window.ZSEC:{version:"5.0.1"};t.defineProperty||(t.defineProperty=e),t["5.0.1"]||(t["5.0.1"]={version:"5.0.1",defineProperty:e});var n,o=Object.hasOwnProperty,i=Object.setPrototypeOf,a=Object.isFrozen,u=Object.getPrototypeOf,c=Object.getOwnPropertyDescriptor,be=Object.freeze,r=Object.seal,l=Object.create,f="undefined"!=typeof Reflect&&Reflect,A=(A=f.apply)||function(e,t,r){return e.apply(t,r)},be=be||function(e){return e},r=r||function(e){return e},T=(T=f.construct)||function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(t))))},Pe=s(Array.prototype.forEach),Ue=s(Array.prototype.pop),Ce=s(Array.prototype.push),we=s(String.prototype.toLowerCase),Me=s(String.prototype.match),Fe=s(String.prototype.replace),Ge=s(String.prototype.indexOf),xe=s(String.prototype.trim),Be=s(RegExp.prototype.test),He=(n=TypeError,function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return T(n,t)});function s(o){return function(e){for(var t=arguments.length,r=Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return A(o,e,r)}}function ke(e,t){i&&i(e,null);for(var r=t.length;r--;){var n,o=t[r];"string"!=typeof o||(n=we(o))!==o&&(a(t)||(t[r]=n),o=n),e[o]=!0}return e}function We(e){var t=l(null),r=void 0;for(r in e)A(o,e,[r])&&(t[r]=e[r]);return t}function Ve(e,t){for(;null!==e;){var r=c(e,t);if(r){if(r.get)return s(r.get);if("function"==typeof r.value)return s(r.value)}e=u(e)}return function(e){return console.warn("fallback value for",e),null}}be(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]);var d=be(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),p=be(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),E=be(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),_=be(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),f=be(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),je=(be(["#text"]),r(/\{\{[\s\S]*|[\s\S]*\}\}/gm)),ze=r(/<%[\s\S]*|[\s\S]*%>/gm),Xe=r(/^data-[\-\w.\u00B7-\uFFFF]/),Ke=r(/^aria-[\-\w]+$/),Ye=r(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Qe=r(/^(?:\w+script|data):/i),qe=r(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$e={svg:d,svgFilters:p,svgDisallowed:E,mathMl:_,mathMlDisallowed:f};var _=function t(e){var u=0<arguments.length&&void 0!==e?e:"undefined"==typeof window?null:window,f=function(e){return t(e)};if(f.version="2.3.0",f.removed=[],!u||!u.document||9!==u.document.nodeType)return f.isSupported=!1,f;var c=u.document,o=u.document,l=u.DocumentFragment,r=u.HTMLTemplateElement,A=u.Node,a=u.Element,n=u.NodeFilter,i=u.NamedNodeMap,T=void 0===i?u.NamedNodeMap||u.MozNamedAttrMap:i,s=u.DOMParser,e=u.trustedTypes,d=o.createTextNode("a").constructor,p=o.createComment("a").constructor,i=a.prototype,E=Ve(i,"cloneNode"),_=Ve(i,"nextSibling"),m=Ve(i,"childNodes"),N=Ve(i,"parentNode");"function"!=typeof r||(r=o.createElement("template")).content&&r.content.ownerDocument&&(o=r.content.ownerDocument);var R=function(e,t){if("object"!==(void 0===e?"undefined":Ze(e))||"function"!=typeof e.createPolicy)return null;var r=null,n="data-tt-policy-suffix",r="dompurify"+((r=t.currentScript&&t.currentScript.hasAttribute(n)?t.currentScript.getAttribute(n):r)?"#"+r:"");try{return e.createPolicy(r,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}}(e,c),O=R&&te?R.createHTML(""):"",e=o,L=e.implementation,S=e.createNodeIterator,h=e.createDocumentFragment,y=e.getElementsByTagName,I=c.importNode,e={};try{e=We(o).documentMode?o.documentMode:{}}catch(e){}var g={};f.isSupported="function"==typeof N&&L&&void 0!==L.createHTMLDocument&&9!==e;function D(e){de&&de===e||(e=We(e=e&&"object"===(void 0===e?"undefined":Ze(e))?e:{}),G="ALLOWED_TAGS"in e?ke({},e.ALLOWED_TAGS):x,k="ALLOWED_ATTR"in e?ke({},e.ALLOWED_ATTR):W,ce="ADD_URI_SAFE_ATTR"in e?ke(We(le),e.ADD_URI_SAFE_ATTR):le,ae="ADD_DATA_URI_TAGS"in e?ke(We(ue),e.ADD_DATA_URI_TAGS):ue,V="FORBID_TAGS"in e?ke({},e.FORBID_TAGS):{},j="FORBID_ATTR"in e?ke({},e.FORBID_ATTR):{},z=!1!==e.ALLOW_ARIA_ATTR,X=!1!==e.ALLOW_DATA_ATTR,K=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Y=e.SAFE_FOR_TEMPLATES||!1,Q=e.WHOLE_DOCUMENT||!1,$=e.RETURN_DOM||!1,J=e.RETURN_DOM_FRAGMENT||!1,ee=!1!==e.RETURN_DOM_IMPORT,te=e.RETURN_TRUSTED_TYPE||!1,B=e.ALLOW_CUSTOM_TAGS||!1,H=!1!==e.DONT_TRIM,Z=e.FORCE_BODY||!1,re=!1!==e.SANITIZE_DOM,ne=!1!==e.KEEP_CONTENT,oe=e.IN_PLACE||!1,F=e.ALLOWED_URI_REGEXP||F,se=e.NAMESPACE||Te,Y&&(X=!1),J&&($=!0),e.ADD_URI_SAFE_ATTR&&ke(ce,e.ADD_URI_SAFE_ATTR),ne&&(G["#text"]=!0),Q&&ke(G,["html","head","body"]),G.table&&(ke(G,["tbody"]),delete V.tbody),be&&be(e),de=e)}var v,b=je,P=ze,U=Xe,C=Ke,w=Qe,M=qe,F=Ye,G=null,x=ke({},[]),B=!1,H=!0,k=null,W=ke({},[]),V=null,j=null,z=!0,X=!0,K=!1,Y=!1,Q=!1,q=!1,Z=!1,$=!1,J=!1,ee=!0,te=!1,re=!0,ne=!0,oe=!1,ie=ke({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ae=null,ue=ke({},["audio","video","img","source","image","track"]),ce=null,le=ke({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),fe="http://www.w3.org/1998/Math/MathML",Ae="http://www.w3.org/2000/svg",Te="http://www.w3.org/1999/xhtml",se=Te,de=null,pe=o.createElement("form"),Ee=ke({},["mi","mo","mn","ms","mtext"]),_e=ke({},["foreignobject","desc","title","annotation-xml"]),me=ke({},$e.svg);ke(me,$e.svgFilters),ke(me,$e.svgDisallowed);var Ne=ke({},$e.mathMl);ke(Ne,$e.mathMlDisallowed);function Re(t){Ce(f.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){try{t.outerHTML=O}catch(e){t.remove()}}}function Oe(e){var t=void 0,r=void 0;Z?e="<remove></remove>"+e:r=(n=Me(e,/^[\r\n\t ]+/))&&n[0];var n=R?R.createHTML(e):e;if(se===Te)try{t=(new s).parseFromString(n,"text/html")}catch(e){}if(!t||!t.documentElement){t=L.createDocument(se,"template",null);try{t.documentElement.innerHTML=v?"":n}catch(e){}}return n=t.body||t.documentElement,e&&r&&n.insertBefore(o.createTextNode(r),n.childNodes[0]||null),se===Te?y.call(t,Q?"html":"body")[0]:Q?t.documentElement:n}function Le(e){return S.call(e.ownerDocument||e,e,n.SHOW_ELEMENT|n.SHOW_COMMENT|n.SHOW_TEXT,null,!1)}function Se(e){return"object"===(void 0===A?"undefined":Ze(A))?e instanceof A:e&&"object"===(void 0===e?"undefined":Ze(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName}function he(e){var t;if(De("beforeSanitizeElements",e,null),!((r=e)instanceof d||r instanceof p||"string"==typeof r.nodeName&&"string"==typeof r.textContent&&"function"==typeof r.removeChild&&r.attributes instanceof T&&"function"==typeof r.removeAttribute&&"function"==typeof r.setAttribute&&"string"==typeof r.namespaceURI&&"function"==typeof r.insertBefore))return Re(e),1;if(Me(e.nodeName,/[\u0080-\uFFFF]/))return Re(e),1;var r=we(e.nodeName);if(De("uponSanitizeElement",e,{tagName:r,allowedTags:G}),!Se(e.firstElementChild)&&(!Se(e.content)||!Se(e.content.firstElementChild))&&Be(/<[/\w]/g,e.innerHTML)&&Be(/<[/\w]/g,e.textContent))return Re(e),1;if(!V[r]&&(G[r]||B&&-1!==r.indexOf("-")))return e instanceof a&&!function(e){var t=N(e);t&&t.tagName||(t={namespaceURI:Te,tagName:"template"});var r=we(e.tagName),n=we(t.tagName);return e.namespaceURI===Ae?t.namespaceURI===Te?"svg"===r:t.namespaceURI===fe?"svg"===r&&("annotation-xml"===n||Ee[n]):Boolean(me[r]):e.namespaceURI===fe?t.namespaceURI===Te?"math"===r:t.namespaceURI===Ae?"math"===r&&_e[n]:Boolean(Ne[r]):e.namespaceURI===Te&&((t.namespaceURI!==Ae||_e[n])&&((t.namespaceURI!==fe||Ee[n])&&(n=ke({},["title","style","font","a","script"]),!Ne[r]&&(n[r]||!me[r]))))}(e)||("noscript"===r||"noembed"===r)&&Be(/<\/no(script|embed)/i,e.innerHTML)?(Re(e),1):(Y&&3===e.nodeType&&(t=e.textContent,t=Fe(t,b," "),t=Fe(t,P," "),e.textContent!==t&&(Ce(f.removed,{element:e.cloneNode()}),e.textContent=t)),De("afterSanitizeElements",e,null),0);if(ne&&!ie[r]){var n=N(e)||e.parentNode,o=m(e)||e.childNodes;if(o&&n)for(var i=o.length-1;0<=i;--i)n.insertBefore(E(o[i],!0),_(e))}return Re(e),1}function ye(e){var t,r=void 0,n=void 0,o=void 0;De("beforeSanitizeAttributes",e,null);var i=e.attributes;if(i){for(var a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:k,nodeName:e.nodeName.toLowerCase()},o=i.length;o--;){var u=(r=i[o]).name,c=r.namespaceURI,n=xe(r.value);if(H&&(n=r.value),t=we(u),a.attrName=t,a.attrValue=n,a.keepAttr=!0,a.keepElement=!0,a.forceKeepAttr=void 0,De("uponSanitizeAttribute",e,a),!a.keepElement)return 1;if(n=a.attrValue,!a.forceKeepAttr&&(ge(u,e),a.keepAttr))if(Be(/\/>/i,n))ge(u,e);else{Y&&(n=Fe(n,b," "),n=Fe(n,P," "));var l=e.nodeName.toLowerCase();if(ve(l,t,n))try{c?e.setAttributeNS(c,u,n):e.setAttribute(u,n),Ue(f.removed)}catch(e){}}}return De("afterSanitizeAttributes",e,null),0}}function Ie(e){var t,r=Le(e);for(De("beforeSanitizeShadowDOM",e,null);t=r.nextNode();)De("uponSanitizeShadowNode",t,null),he(t)||(t.content instanceof l&&Ie(t.content),ye(t)&&Re(t));De("afterSanitizeShadowDOM",e,null)}var ge=function(e,t){try{Ce(f.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){Ce(f.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!k[e])if($||J)try{Re(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},De=function(e,t,r){g[e]&&Pe(g[e],function(e){e.call(f,t,r,de)})},ve=function(e,t,r){if(re&&("id"===t||"name"===t)&&(r in o||r in pe))return!1;if((!X||j[t]||!Be(U,t))&&(!z||!Be(C,t))){if(!k[t]||j[t])return!1;if(!ce[t]&&!Be(F,Fe(r,M,""))&&("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==Ge(r,"data:")||!ae[e])&&(!K||Be(w,Fe(r,M,"")))&&r)return!1}return!0};return f.sanitize=function(e,t){var r,n=void 0,o=void 0,i=void 0;if("string"!=typeof(e=(v=!e)?"\x3c!--\x3e":e)&&!Se(e)){if("function"!=typeof e.toString)throw He("toString is not a function");if("string"!=typeof(e=e.toString()))throw He("dirty is not a string, aborting")}if(!f.isSupported){if("object"===Ze(u.toStaticHTML)||"function"==typeof u.toStaticHTML){if("string"==typeof e)return u.toStaticHTML(e);if(Se(e))return u.toStaticHTML(e.outerHTML)}return e}if(q||D(t),f.removed=[],!(oe="string"!=typeof e&&oe))if(e instanceof A)1===(t=(n=Oe("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===t.nodeName||"HTML"===t.nodeName?n=t:n.appendChild(t);else{if(!$&&!Y&&!Q&&-1===e.indexOf("<"))return R&&te?R.createHTML(e):e;if(!(n=Oe(e)))return $?null:O}n&&Z&&Re(n.firstChild);for(var a=Le(oe?e:n);r=a.nextNode();)3===r.nodeType&&r===o||he(r)||(r.content instanceof l&&Ie(r.content),ye(r)?Re(r):o=r);if(o=null,oe)return e;if($){if(J)for(i=h.call(n.ownerDocument);n.firstChild;)i.appendChild(n.firstChild);else i=n;return i=ee?I.call(c,i,!0):i}return e=Q?n.outerHTML:n.innerHTML,Y&&(e=Fe(e,b," "),e=Fe(e,P," ")),R&&te?R.createHTML(e):e},f.setConfig=function(e){D(e),q=!0},f.clearConfig=function(){de=null,q=!1},f.isValidAttribute=function(e,t,r){return de||D({}),e=we(e),t=we(t),ve(e,t,r)},f.addHook=function(e,t){"function"==typeof t&&(g[e]=g[e]||[],Ce(g[e],t))},f.removeHook=function(e){g[e]&&Ue(g[e])},f.removeHooks=function(e){g[e]&&(g[e]=[])},f.removeAllHooks=function(){g={}},f}(),B=(Object.seal||function(e){return e})(/\$\{[A-Z._]+?\}/i);function H(e,t){if(e instanceof Object)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function k(e,t){var r;(r=Array.prototype.splice).call.apply(r,[e,e.length,0].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(t)))}function W(e,t){if(!e||e.constructor===Object)return e;for(var r={},n=0;n<e.length;n++){var o=e[n];r[o[t]]=o}return r}function V(e){if(e&&e.constructor===String)return e.toLowerCase();if(e.constructor===Array)for(var t=0;t<e.length;t++)e[t]=V(e[t]);return e}function j(e,t,r,n){if(Array.isArray(e))for(var o=0,i=e.length;o<i;o++)m(e,t,o,r);else for(var a in e)n&&-1!==n.indexOf(a)||m(e,t,a,r);return t}function m(e,t,r,n){var o;n?(o=e[r],Array.isArray(o)?(t[r]||(t[r]=[]),j(o,t[r],n)):o instanceof Object?(t[r]||(t[r]={}),j(o,t[r],n)):t[r]=o):t[r]=e[r]}function z(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var X=Object.freeze;f={ALLOW_ARIA_ATTR:!0,ALLOW_DATA_ATTR:!0,ALLOW_UNKNOWN_PROTOCOLS:!1,SAFE_FOR_JQUERY:!1,SAFE_FOR_TEMPLATES:!1,WHOLE_DOCUMENT:!1,RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_DOM_IMPORT:!1,FORCE_BODY:!0,SANITIZE_DOM:!0,KEEP_CONTENT:!0,ALLOWED_URI_REGEXP:!1,IN_PLACE:!1,DONT_TRIM:!0,ALLOW_CUSTOM_TAGS:!1,REMOVE_ONEVENTS:!0,EXTENDS:["GLOBAL_TAGS","GLOBAL_ATTR","FORBID_TAGS","FORBID_ATTR","TAG_RULES","GLOBAL_ATTR_RULES","GLOBAL_APPEND_ATTR","ADD_DATA_URI_TAGS","ADD_URI_SAFE_ATTR"],ALLOWED_STYLE:"NONE",STYLE_RULES:{FORBID_PROPS:[],FORBID_CSSRULES:[],UNSAFE_PROP_RULES:{}}};f.GLOBAL_TAGS="a|abbr|acronym|address|area|article|aside|audio|b|bdi|bdo|big|blink|blockquote|body|br|button|canvas|caption|center|cite|code|col|colgroup|content|data|datalist|dd|decorator|del|details|dfn|dir|div|dl|dt|element|em|fieldset|figcaption|figure|font|footer|form|h1|h2|h3|h4|h5|h6|head|header|hgroup|hr|html|i|img|input|ins|kbd|label|legend|li|main|map|mark|marquee|menu|menuitem|meter|nav|nobr|ol|optgroup|option|output|p|pre|progress|q|rp|rt|ruby|s|samp|section|select|shadow|small|source|spacer|span|strike|strong|sub|summary|sup|table|tbody|td|template|textarea|tfoot|th|thead|time|title|tr|track|tt|u|ul|var|video|wbr|#text".split("|"),f.GLOBAL_ATTR="accept|action|align|alt|autocomplete|background|bgcolor|border|cellpadding|cellspacing|checked|cite|class|clear|color|cols|colspan|coords|datetime|default|dir|disabled|download|enctype|face|for|headers|height|hidden|high|href|hreflang|id|ismap|label|lang|list|loop|low|max|maxlength|media|method|min|multiple|name|noshade|novalidate|nowrap|open|optimum|pattern|placeholder|poster|preload|pubdate|radiogroup|readonly|rel|required|rev|reversed|role|rows|rowspan|spellcheck|scope|selected|shape|size|span|srclang|start|src|step|summary|tabindex|title|target|type|usemap|valign|value|width|xmlns|sandbox".split("|"),f.FORBID_TAGS=[],f.FORBID_ATTR=[],f.GLOBAL_ATTR_RULES={},f.GLOBAL_APPEND_ATTR={},f.ADD_DATA_URI_TAGS=[],f.ADD_URI_SAFE_ATTR=[],f.TAG_RULES={a:{APPEND_ATTR:{rel:{ATTR_NAME:"rel",APPEND_ATTR_VALUE:"noopener noreferrer",SIBLING_CONDITIONS:[{ATTR_NAME:"target",CONDITIONS:[{IS_MANDATORY:"true",CONTAINS:"_blank"}]}]}}}},f.TAG_SPECIFIC_ATTRS={};_=function t(E,r){var _="GLOBAL_TAGS",m="GLOBAL_ATTR",N="FORBID_TAGS",R="FORBID_ATTR",O="TAG_RULES",L="STYLE_RULES",S="GLOBAL_ATTR_RULES",h="GLOBAL_APPEND_ATTR",y="ADD_DATA_URI_TAGS",I="ADD_URI_SAFE_ATTR",e="REMOVE_ONEVENTS",o=["ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","SAFE_FOR_JQUERY","SAFE_FOR_TEMPLATES","WHOLE_DOCUMENT","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_DOM_IMPORT","IN_PLACE","DONT_TRIM","FORCE_BODY","SANITIZE_DOM","KEEP_CONTENT","ALLOWED_URI_REGEXP","ALLOW_CUSTOM_TAGS"],g=[];k(g,o),k(g,["EXTENDS",e,"ALLOWED_STYLE"]);var n={iframe:{ATTR_RULES:{sandbox:{FALLBACK_VALUE:"allow-popups allow-forms allow-scripts allow-same-origin",CONDITIONS:[{NOT_CONTAINS:["allow-top-navigation","allow-popups-to-escape-sandbox"]}]}},APPEND_ATTR:{sandbox:{APPEND_ATTR_VALUE:"allow-popups allow-forms allow-scripts allow-same-origin"}}},embed:{ATTR_RULES:{type:{CONDITIONS:[{EQUAL:"application/pdf",FALLBACK_VALUE:"application/pdf"}]}},APPEND_ATTR:{type:{APPEND_ATTR_VALUE:"application/pdf"},typemustmatch:{APPEND_ATTR_VALUE:"true"}}},object:{ATTR_RULES:{type:{CONDITIONS:[{EQUAL:"application/pdf",FALLBACK_VALUE:"application/pdf"}]}},APPEND_ATTR:{type:{APPEND_ATTR_VALUE:"application/pdf"},typemustmatch:{APPEND_ATTR_VALUE:"true"}}}},i=void 0,a=void 0,u=void 0,c=E.GLOBAL_TAGS,D=E.GLOBAL_ATTR,l=E.FORBID_TAGS,f=E.FORBID_ATTR,v=E.TAG_RULES,A=E.STYLE_RULES,T=E.GLOBAL_ATTR_RULES,s=E.GLOBAL_APPEND_ATTR,b=E.TAG_SPECIFIC_ATTRS,P=A.FORBID_PROPS,U=A.FORBID_CSSRULES,C=A.UNSAFE_PROP_RULES,d=P&&0!==P.length||U&&0!==U.length;function p(i){if(!i||i.constructor!==Object)return j(E,i={},!0),i;i[O]||(i[O]={}),i[S]||(i[S]={}),i[h]||(i[h]={}),i[y]||(i[y]=[]),i[I]||(i[I]=[]),i[_]||(i[_]=[]),i[m]||(i[m]=[]),i[N]||(i[N]=[]),i[R]||(i[R]=[]),i[L]||(i[L]={}),i[L].FORBID_CSSRULES||(i[L].FORBID_CSSRULES=[]),i[L].FORBID_PROPS||(i[L].FORBID_PROPS=[]),i[L].UNSAFE_PROP_RULES||(i[L].UNSAFE_PROP_RULES={}),i.TAG_SPECIFIC_ATTRS={};for(var e=0;e<g.length;e++){var t=g[e];void 0===i[t]&&(i[t]=E[t])}i[O]=W(i[O],"NAME"),i[S]=W(i[S],"ATTR_NAME"),i[h]=W(i[h],"APPEND_ATTR_NAME");var r=i,a=r.TAG_RULES,n=r.TAG_SPECIFIC_ATTRS,o=r.STYLE_RULES,u=r.GLOBAL_ATTR,c=r.GLOBAL_ATTR_RULES,l=r.GLOBAL_APPEND_ATTR,f=r.EXTENDS,A=o.FORBID_CSSRULES,T=o.FORBID_PROPS,s=o.UNSAFE_PROP_RULES;H(l,function(e,t){G(t)}),H(c,function(e,t){G(t)});for(var d=function(e){var r,t,n=f[e];switch(n){case m:var o=[];k(o,D),H(b,function(e){-1<(e=o.indexOf(e))&&o.splice(e,1)}),k(u,o);break;case _:case N:case R:case y:case I:k(i[n],E[n]);break;case O:r=a,(t=v)&&t.constructor===Object&&H(t,function(e,t){e in r?(void 0===r[e].APPEND_ATTR&&(r[e].APPEND_ATTR=t.APPEND_ATTR),void 0===r[e].ATTR_RULES&&(r[e].ATTR_RULES=t.ATTR_RULES)):r[e]=t});break;case h:case S:H(E[n],function(e){i[n][e]||(i[n][e]={},j(E[n][e],i[n][e],!0))});break;case L:T.push.apply(T,z(P)),A.push.apply(A,z(U)),H(C,function(e){s[e]||(s[e]={},j(C[e],s[e],!0))})}},p=0;p<f.length;p++)d(p);return H(c,function(e){-1===u.indexOf(e)&&(u.push(e),n[e]&&n[e].constructor===Array||(n[e]=[]),-1===n[e].indexOf("*")&&n[e].push("*"))}),H(a,function(r,e){r=V(r),e.APPEND_ATTR||(e.APPEND_ATTR={}),e.APPEND_ATTR=W(e.APPEND_ATTR,"APPEND_ATTR_NAME"),H(e.APPEND_ATTR,function(e,t){G(t)}),e.ATTR_RULES||(e.ATTR_RULES={}),e.ATTR_RULES=W(e.ATTR_RULES,"ATTR_NAME"),H(e.ATTR_RULES,function(e,t){G(t),e=V(e),(-1===u.indexOf(e)||n[e]&&0<n[e].length)&&(-1===u.indexOf(e)&&u.push(e),n[e]&&n[e].constructor===Array||(n[e]=[]),-1===n[e].indexOf(r)&&n[e].push(r))})}),i}function w(e,t,r){if(e.constructor===String){if(t.CASE_SENSITIVE||(e=e.toLowerCase()),t.DONT_TRIM||(e=e.trim()),t.MAX_LENGTH&&e.length>t.MAX_LENGTH)return!1;if(t.MIN_LENGTH&&e.length<t.MIN_LENGTH)return!1;if(t.REGEX&&t.REGEX.constructor===RegExp&&-1===e.search(t.REGEX))return!1;if(t.REGEX&&t.REGEX.constructor===String&&(new RegExp(t.REGEX),-1===e.search(t.REGEX)))return!1;if(t.REGEX&&t.REGEX.constructor===Array)for(var n=0;n<t.REGEX.length;n++)if(-1===e.search(t.REGEX[n]))return!1;if(t.VALIDATOR&&t.VALIDATOR.HANDLER&&!t.VALIDATOR.HANDLER(e,t.VALIDATOR.CONFIG,r))return!1;if(void 0!==t.STARTS_WITH&&0!==e.indexOf(t.STARTS_WITH))return!1;if(void 0!==t.ENDS_WITH&&e.lastIndexOf(t.ENDS_WITH)!==e.length-t.ENDS_WITH.length)return!1;if(t.CONTAINS&&t.CONTAINS.constructor===String&&-1===e.indexOf(t.CONTAINS))return!1;if(t.CONTAINS&&t.CONTAINS.constructor===Array)for(var o=0;o<t.CONTAINS.length;o++)if(-1===e.indexOf(t.CONTAINS[o]))return!1;if(t.NOT_CONTAINS&&t.NOT_CONTAINS.constructor===String&&-1<e.indexOf(t.NOT_CONTAINS))return!1;if(t.NOT_CONTAINS&&t.NOT_CONTAINS.constructor===Array)for(var i=0;i<t.NOT_CONTAINS.length;i++)if(-1<e.indexOf(t.NOT_CONTAINS[i]))return!1;if(void 0!==t.EQUAL&&e!=t.EQUAL)return!1;if(void 0!==t.NOT_EQUAL&&e==t.NOT_EQUAL)return!1}if(t.LIST&&-1===t.LIST.indexOf(e))return!1;if("INTEGER"===t.TYPE||"FLOAT"===t.TYPE){r=void 0;try{r="INTEGER"===t.TYPE?window.parseInt(e,10):window.parseFloat(e)}catch(e){return!1}if(window.isNaN(r))return!1;if(void 0!==t.GREATER_THAN&&r<=t.GREATER_THAN)return!1;if(void 0!==t.GREATER_THAN_OR_EQUAL&&r<t.GREATER_THAN_OR_EQUAL)return!1;if(void 0!==t.LESSER_THAN&&r>=t.LESSER_THAN)return!1;if(void 0!==t.LESSER_THAN_OR_EQUAL&&r>t.LESSER_THAN_OR_EQUAL)return!1;if(void 0!==t.EQUAL&&r!==t.EQUAL)return!1;if(void 0!==t.NOT_EQUAL&&r===t.NOT_EQUAL)return!1}return!0}function M(e,t,r){var n=!0;if(!t||!t.CONDITIONS||0===t.CONDITIONS.length)return{isValid:n,rule:t};r=t.ATTR_NAME||r;for(var o,i,a,u,c=0;c<t.CONDITIONS.length;c++){var l=t.CONDITIONS[c];if(o=e,i=r,u=void 0,u=!1!==(a=l).IS_MANDATORY,n=i&&!o.hasAttribute(i.toLowerCase())?a.IS_FORBIDDEN||!u:!a.IS_FORBIDDEN&&w(o=null==(o=o.getAttribute(i.toLowerCase()))?"":o,a,i),n=l.NEGATION?!n:n){if(l.NEXT)return M(e,l.NEXT,r);break}}return{isValid:n,rule:t}}function F(o){H(o,function(e,t){if(t&&t.constructor===String&&(0<P.length&&-1<P.indexOf(e)&&(o[e]="",i=!0),C[e]))for(var r=C[e],n=0;n<r.CONDITIONS.length;n++)if(w(t,r.CONDITIONS[n],e))return o[e]=void 0===r.FALLBACK_VALUE?"":r.FALLBACK_VALUE,i=!0,0})}function G(e){if(e&&(e.CONDITIONS&&0<e.CONDITIONS.length&&(e.CONDITIONS=function(e){if(!e)return e;for(var t=0;t<e.length;t++)e[t]=function(e){if(!e||e.CASE_SENSITIVE)return e;for(var t=["STARTS_WITH","ENDS_WITH","CONTAINS","EQUAL","NOT_EQUAL","LIST"],r=0;r<t.length;r++){var n=t[r];e[n]&&(e[n]=V(e[n]))}return e.NEXT&&G(e.NEXT),e}(e[t]);return e}(e.CONDITIONS)),e.SIBLING_CONDITIONS&&0<e.SIBLING_CONDITIONS.length))for(var t=0;t<e.SIBLING_CONDITIONS.length;t++)G(e.SIBLING_CONDITIONS[t])}d||H(C,function(){d=!0});function x(e){return t(e=p(e),r(window))}return x.sanitize=function(e,t){t=function(r){if(!r||r.constructor!==Object)return E;var n={};return H(E,function(e,t){e in r&&-1!==o.indexOf(e)&&(!0===r[e]||!1===r[e]||r[e]&&r[e].constructor===RegExp)?n[e]=r[e]:n[e]=t}),n.SAFE_FOR_TEMPLATES&&(n.ALLOW_DATA_ATTR=!1),n.RETURN_DOM_FRAGMENT&&(n.RETURN_DOM=!0),n.KEEP_CONTENT&&n.GLOBAL_TAGS.push("#text"),n}(t),e=r.sanitize(e,t);return(t=x.removed).splice.apply(t,[0,x.removed.length].concat(z(r.removed))),e},k(l,["script"]),k(f,[]),A=E.ALLOWED_STYLE,r.removeAllHooks(),i=!1,-1===l.indexOf("style")&&l.push("style"),-1===f.indexOf("style")&&f.push("style"),"INLINE"!==A&&"ALL"!==A||(f.splice(f.indexOf("style"),1),-1===D.indexOf("style")&&D.push("style"),d&&r.addHook("uponSanitizeAttribute",function(e,t){var r,n;"style"===t.attrName&&(e.ownerDocument.baseURI||((n=(r=window.document).createElement("base")).href=r.baseURI,e.ownerDocument.head.appendChild(n)),i=!1,F(e.style),0!==(n=e.style.cssText).length?t.attrValue=i?n:e.getAttribute("style"):t.keepAttr=!1)})),"INTERNAL"!==A&&"ALL"!==A||(l.splice(l.indexOf("style"),1),-1===c.indexOf("style")&&c.push("style"),d&&r.addHook("uponSanitizeElement",function(e,t){var r;"style"===t.tagName&&null!==e.sheet&&(r=e.sheet.cssRules,i=!1,function e(t,r){for(var n=t.length-1;0<=n;n--){var o=t[n];0<U.length&&-1<U.indexOf(o.type)?(r.deleteRule(n),i=!0):1===o.type&&o.selectorText||8===o.type&&o.keyText?o.style&&F(o.style):4!==o.type&&7!==o.type&&12!==o.type||!o.cssRules||e(o.cssRules,o)}}(r,e.sheet),i&&(function(e,t){for(var r=t.length-1;0<=r;r--)1!==t[r].type&&3!==t[r].type&&4!==t[r].type&&7!==t[r].type&&12!==t[r].type||e.push(t[r].cssText)}(t=[],r),e.textContent=t.join("\n")))})),(T||v)&&(a={},H(n,function(r,e){a[r]={},H(e.ATTR_RULES,function(e,t){return a[r][e]=t})}),H(a,function(r,e){H(T,function(e,t){return a[r][e]=t})}),H(v,function(r,e){a[r]||(a[r]={}),H(e.ATTR_RULES,function(e,t){return a[r][e]=t})}),r.addHook("uponSanitizeAttribute",function(e,t){var r,n,o=a[t.nodeName]&&a[t.nodeName][t.attrName]||T&&T[t.attrName];o&&(n=(r=M(e,o,t.attrName)).isValid,(o=r.rule)&&o.FORCE_KEEP_ATTR&&(t.forceKeepAttr=!0),n||(r=e,n=t,"REMOVE_ELEMENT"!==(e=o).ACTION?void 0!==e.FALLBACK_VALUE?(t=e.FALLBACK_VALUE,(o=B.exec(e.FALLBACK_VALUE))&&(r=r.getAttribute(e.ATTR_NAME),"${ZSEC.URL_COMPONENT}"===o[0]&&(r=window.encodeURIComponent(r)),t=e.FALLBACK_VALUE.replace(o[0],r)),Qe.test(t.replace(qe,""))?n.keepAttr=!1:n.attrValue=t):n.keepAttr=!1:n.keepElement=!1))})),(s||v)&&(u={},H(n,function(r,e){u[r]={},H(e.APPEND_ATTR,function(e,t){return u[r][e]=t})}),H(u,function(r,e){H(T,function(e,t){return u[r][e]=t})}),H(v,function(r,e){u[r]||(u[r]={}),H(e.APPEND_ATTR,function(e,t){return u[r][e]=t})}),r.addHook("afterSanitizeAttributes",function(e){var i,t=e.nodeName.toLowerCase(),r={};H(s,function(e,t){return r[e]=t}),H(u[t],function(e,t){return r[e]=t}),i=e,H(r,function(e,t){if(!i.hasAttribute(e.toLowerCase()))if(t.SIBLING_CONDITIONS&&0!=t.SIBLING_CONDITIONS.length)for(var r=0;r<t.SIBLING_CONDITIONS.length;r++){var n=(o=M(i,t.SIBLING_CONDITIONS[r])).isValid,o=o.rule;if(n)return o=(void 0!==o.APPEND_ATTR_VALUE?o:t).APPEND_ATTR_VALUE,i.setAttribute(e,o),0}else i.setAttribute(e,t.APPEND_ATTR_VALUE)})})),E[e]&&r.addHook("uponSanitizeAttribute",function(e,t){0===t.attrName.indexOf("on")&&(t.keepAttr=!1)}),b&&r.addHook("uponSanitizeAttribute",function(e,t){b[t.attrName]&&-1===b[t.attrName].indexOf(t.nodeName)&&-1===b[t.attrName].indexOf("*")&&(t.keepAttr=!1)}),E.ALLOWED_TAGS=c,E.ALLOWED_ATTR=D,X&&X(E),x.isSupported=r.isSupported,x.version=r.version,x.removed=[],x}(f,_);return X&&X(_),delete window.DOMPurify,"5.0.1"!==t.version||t.HTMLPurifier||t.defineProperty(t,"HTMLPurifier",_,!0,!1,!1,!0),t["5.0.1"].HTMLPurifier||t.defineProperty(t["5.0.1"],"HTMLPurifier",_,!0,!1,!1,!0),t});
